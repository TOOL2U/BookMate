
> bookmate@0.1.0 dev
> next dev

 âš  Warning: Next.js inferred your workspace root, but it may not be correct.
 We detected multiple lockfiles and selected the directory of /Users/shaunducker/pnpm-lock.yaml as the root directory.
 To silence this warning, set `outputFileTracingRoot` in your Next.js config, or consider removing one of the lockfiles if it's not needed.
   See https://nextjs.org/docs/app/api-reference/config/next-config-js/output#caveats for more information.
 Detected additional lockfiles: 
   * /Users/shaunducker/Desktop/BookMate-webapp/package-lock.json

   â–² Next.js 15.5.6
   - Local:        http://localhost:3000
   - Network:      http://192.168.1.118:3000
   - Environments: .env.local, .env
   - Experiments (use with caution):
     Â· optimizePackageImports

 âœ“ Starting...
 âœ“ Ready in 1717ms
 â—‹ Compiling /api/pnl ...
 âœ“ Compiled /api/pnl in 578ms (343 modules)
ğŸ“Š Fetching fresh P&L data from Google Sheets...
ğŸ” Using secret (first 10 chars): VqwvzpO3Ja
ğŸ“ Following 302 redirect...
âœ… P&L data fetched and cached successfully
âš ï¸ P&L Warnings: [
  'Cannot compute Month EBITDA (revenue or GOP missing)',
  'Cannot compute Year EBITDA (revenue or GOP missing)'
]
 GET /api/pnl 200 in 3836ms
 â—‹ Compiling /dashboard ...
 âœ“ Compiled /dashboard in 1529ms (2227 modules)
 GET /dashboard 200 in 1695ms
 â—‹ Compiling /api/balance ...
 âœ“ Compiled /api/balance in 1976ms (3312 modules)
ğŸ“Š Fetching fresh P&L data from Google Sheets...
ğŸ” Using secret (first 10 chars): VqwvzpO3Ja
ğŸ“Š Fetching overhead expenses (month) from Google Sheets...
ğŸ” Fetching property/person data for period: month
ğŸ“¤ Sending to Apps Script: {
  action: 'getPropertyPersonDetails',
  period: 'month',
  secret: '[REDACTED]'
}
 GET /api/balance 200 in 4298ms
ğŸ“ Following 302 redirect...
ğŸ“ Following 302 redirect...
âœ… P&L data fetched and cached successfully
âš ï¸ P&L Warnings: [
  'Cannot compute Month EBITDA (revenue or GOP missing)',
  'Cannot compute Year EBITDA (revenue or GOP missing)'
]
 GET /api/pnl 200 in 6428ms
âœ… Successfully fetched 7 property/person items
 GET /api/pnl/property-person?period=month 200 in 7009ms
ğŸ“ Following 302 redirect...
â±ï¸ Overhead expenses (month) fetch took 5485ms
âœ… Overhead expenses (month) loaded in 5485ms
 GET /api/pnl/overhead-expenses?period=month 200 in 7533ms
 GET /dashboard?id=6af26914-e2c3-4fe0-9ac0-e407ddcfebd3&vscodeBrowserReqId=1762697143095 200 in 155ms
ğŸ“Š Fetching fresh P&L data from Google Sheets...
ğŸ” Using secret (first 10 chars): VqwvzpO3Ja
 â—‹ Compiling /balance ...
ğŸ“ Following 302 redirect...
 âœ“ Compiled /balance in 853ms (2196 modules)
 GET /balance 200 in 987ms
 âœ“ Compiled /api/options in 215ms (2256 modules)
âœ… P&L data fetched and cached successfully
âš ï¸ P&L Warnings: [
  'Cannot compute Month EBITDA (revenue or GOP missing)',
  'Cannot compute Year EBITDA (revenue or GOP missing)'
]
 GET /api/pnl 200 in 3612ms
 âœ“ Compiled in 211ms (1021 modules)
[OPTIONS] Fetching all data from Google Sheets...
[OPTIONS] Cache-bust timestamp: 1762697478856
 GET /api/balance 200 in 2406ms
[OPTIONS] Found 7 properties from Data!C2:C
[OPTIONS] Found 37 operations from Data!A2:A + Data!B2:B + Transfer
[OPTIONS] Transfer included: true
[OPTIONS] Old transfer formats removed: EXP - Transfer, Revenue - Transfer
[OPTIONS] Found 5 payment type categories from Data!D2:D
[OPTIONS] Categories: [
  'Bank Transfer - Bangkok Bank - Shaun Ducker',
  'Bank Transfer - Bangkok Bank - Maria Ren',
  'Bank transfer - Krung Thai Bank - Family Account',
  'Cash - Family',
  'Cash - Alesia'
]
[OPTIONS] Month headers: [
  'JAN', 'FEB', 'MAR',
  'APR', 'MAY', 'JUN',
  'JUL', 'AUG', 'SEPT',
  'OCT', 'NOV', 'DEC'
]
[OPTIONS] Built 5 payment types with monthly data
[OPTIONS] Built 7 properties with monthly data
[OPTIONS] Built 37 operations with monthly data
[OPTIONS] Built 4 revenues with monthly data
[OPTIONS] Successfully returned dropdown options (dual format)
[OPTIONS] Plain: Properties=7, Operations=37, Payments=5, Revenues=4
[OPTIONS] Rich: Properties=7, Operations=37, Payments=5, Revenues=4
 GET /api/options 200 in 2549ms
 â—‹ Compiling /activity ...
 âœ“ Compiled /activity in 1060ms (4015 modules)
 GET /activity 200 in 1262ms
 âœ“ Compiled /api/inbox in 331ms (4017 modules)
ğŸ“¥ Fetching fresh inbox data from Google Sheets...
ğŸ“ Following 302 redirect...
â±ï¸ Google Sheets fetch took 3339ms
âœ… Fetched 52 entries from Google Sheets (total: 3339ms)
 GET /api/inbox 200 in 3720ms
âœ… Returning cached inbox data (0ms)
 GET /api/inbox 200 in 10ms
 â—‹ Compiling /dashboard ...
 âœ“ Compiled /dashboard in 631ms (2679 modules)
 GET /dashboard 200 in 727ms
ğŸ“Š Fetching fresh P&L data from Google Sheets...
ğŸ” Using secret (first 10 chars): VqwvzpO3Ja
 âœ“ Compiled /api/pnl/overhead-expenses in 224ms (2681 modules)
 âœ“ Compiled (2683 modules)
ğŸ” Fetching property/person data for period: month
ğŸ“¤ Sending to Apps Script: {
  action: 'getPropertyPersonDetails',
  period: 'month',
  secret: '[REDACTED]'
}
ğŸ“Š Fetching overhead expenses (month) from Google Sheets...
ğŸ“ Following 302 redirect...
âœ… P&L data fetched and cached successfully
âš ï¸ P&L Warnings: [
  'Cannot compute Month EBITDA (revenue or GOP missing)',
  'Cannot compute Year EBITDA (revenue or GOP missing)'
]
 GET /api/pnl 200 in 2039ms
 GET /api/balance 200 in 2044ms
ğŸ“ Following 302 redirect...
âœ… Successfully fetched 7 property/person items
 GET /api/pnl/property-person?period=month 200 in 3690ms
ğŸ“ Following 302 redirect...
â±ï¸ Overhead expenses (month) fetch took 4383ms
âœ… Overhead expenses (month) loaded in 4383ms
 GET /api/pnl/overhead-expenses?period=month 200 in 4889ms
ğŸ“Š Fetching overhead expenses (month) from Google Sheets...
ğŸ“ Following 302 redirect...
â±ï¸ Overhead expenses (month) fetch took 2671ms
âœ… Overhead expenses (month) loaded in 2672ms
 GET /api/pnl/overhead-expenses?period=month 200 in 2683ms
âœ… Returning cached overhead expenses (month) - 0ms
 GET /api/pnl/overhead-expenses?period=month 200 in 13ms
 âœ“ Compiled in 1049ms (1550 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/shaunducker/Desktop/BookMate-webapp/.next/cache/webpack/client-development/15.pack.gz_' -> '/Users/shaunducker/Desktop/BookMate-webapp/.next/cache/webpack/client-development/15.pack.gz'
 âœ“ Compiled in 235ms (1401 modules)
 âœ“ Compiled in 225ms (1401 modules)
 âœ“ Compiled in 169ms (1401 modules)
 âœ“ Compiled in 175ms (1401 modules)
 âœ“ Compiled in 150ms (1401 modules)
 âœ“ Compiled in 158ms (1401 modules)
 âœ“ Compiled in 158ms (1401 modules)
 âœ“ Compiled in 343ms (1401 modules)
 âœ“ Compiled in 395ms (1401 modules)
 âœ“ Compiled in 161ms (1401 modules)
 âœ“ Compiled in 165ms (1401 modules)
 âœ“ Compiled /api/pnl in 186ms (149 modules)
ğŸ“Š Fetching fresh P&L data from Google Sheets...
ğŸ” Using secret (first 10 chars): VqwvzpO3Ja
ğŸ“ Following 302 redirect...
âœ… P&L data fetched and cached successfully
âš ï¸ P&L Warnings: [
  'Cannot compute Month EBITDA (revenue or GOP missing)',
  'Cannot compute Year EBITDA (revenue or GOP missing)'
]
 GET /api/pnl 200 in 3203ms
 âœ“ Compiled in 257ms (1401 modules)
 âœ“ Compiled in 194ms (1401 modules)
 âœ“ Compiled in 401ms (1401 modules)
 âœ“ Compiled in 150ms (1401 modules)
 âœ“ Compiled in 158ms (1401 modules)
 âœ“ Compiled in 139ms (1401 modules)
 âœ“ Compiled in 157ms (1401 modules)
 âœ“ Compiled in 244ms (1401 modules)
 âœ“ Compiled in 240ms (1401 modules)
 âœ“ Compiled in 178ms (1401 modules)
 âœ“ Compiled in 149ms (1401 modules)
 âœ“ Compiled in 142ms (1401 modules)
 âœ“ Compiled in 133ms (1401 modules)
 âœ“ Compiled in 282ms (1401 modules)
 âœ“ Compiled in 138ms (1401 modules)
 âœ“ Compiled in 126ms (1401 modules)
 âœ“ Compiled in 344ms (1401 modules)
 âœ“ Compiled in 487ms (1401 modules)
 âœ“ Compiled in 140ms (1401 modules)
 âœ“ Compiled in 143ms (1401 modules)
 âœ“ Compiled in 166ms (1401 modules)
 âœ“ Compiled in 256ms (1401 modules)
 âœ“ Compiled in 168ms (1401 modules)
 âœ“ Compiled in 196ms (1401 modules)
 âœ“ Compiled in 288ms (1401 modules)
 âœ“ Compiled in 160ms (1401 modules)
 âœ“ Compiled in 138ms (1401 modules)
 âœ“ Compiled in 257ms (1401 modules)
 âœ“ Compiled in 223ms (1401 modules)
 âœ“ Compiled in 127ms (1401 modules)
 âœ“ Compiled in 134ms (1401 modules)
 âœ“ Compiled in 139ms (1401 modules)
 âœ“ Compiled in 124ms (1401 modules)
 âœ“ Compiled in 181ms (1401 modules)
 âœ“ Compiled in 387ms (1401 modules)
 âœ“ Compiled in 148ms (1401 modules)
 âœ“ Compiled in 152ms (1401 modules)
 âœ“ Compiled in 133ms (1401 modules)
 âœ“ Compiled in 223ms (1401 modules)
 âœ“ Compiled in 141ms (1401 modules)
 âœ“ Compiled in 123ms (1401 modules)
 âœ“ Compiled in 138ms (1401 modules)
 âœ“ Compiled in 308ms (1401 modules)
 âœ“ Compiled in 159ms (1401 modules)
 âœ“ Compiled in 141ms (1401 modules)
 âœ“ Compiled in 238ms (1401 modules)
 âœ“ Compiled in 406ms (1401 modules)
 âœ“ Compiled in 168ms (1401 modules)
 âœ“ Compiled in 118ms (1401 modules)
 âœ“ Compiled in 140ms (1401 modules)
 âœ“ Compiled in 134ms (1401 modules)
 âœ“ Compiled in 122ms (1401 modules)
 âœ“ Compiled in 130ms (1401 modules)
 âœ“ Compiled in 204ms (1401 modules)
 âœ“ Compiled in 609ms (1401 modules)
 âœ“ Compiled in 354ms (1401 modules)
 âœ“ Compiled in 243ms (1401 modules)
 âœ“ Compiled in 192ms (1401 modules)
 âœ“ Compiled in 276ms (1401 modules)
 âœ“ Compiled in 164ms (1401 modules)
 âœ“ Compiled in 166ms (1401 modules)
 âœ“ Compiled in 139ms (1401 modules)
 âœ“ Compiled in 122ms (1401 modules)
 âœ“ Compiled in 236ms (1401 modules)
